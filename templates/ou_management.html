{% extends "base.html" %}

{% block title %}Gerenciamento de OUs - Gestão AD{% endblock %}

{% from "_macros.html" import render_page_header %}

{% block head %}
    {{ super() }}
    <!-- Carrega o CSS da aplicação React -->
    <link rel="stylesheet" href="{{ url_for('static', filename='react/assets/index.css') }}">
{% endblock %}

{% block page_title %}
    {{ render_page_header('<i class="fas fa-sitemap me-2"></i>Gerenciamento de Unidades Organizacionais', show_nav_buttons=True) }}
{% endblock %}

{% block content %}
    {# Este é o ponto de entrada para a nossa aplicação React #}
    <div id="root">
        <div class="text-center p-5">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Carregando aplicação...</span>
            </div>
            <p class="mt-2">Carregando aplicação...</p>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    {{ super() }}

    {# Passa o token CSRF para a aplicação React através do objeto window #}
    <script>
        window.csrf_token = "{{ form.csrf_token._value() }}";
    </script>

    <!-- Carrega o JavaScript da aplicação React -->
    <script type="module" src="{{ url_for('static', filename='react/assets/index.js') }}"></script>
{% endblock %}